---
import ImageWrapper from "./misc/ImageWrapper.astro";
import { Icon } from "astro-icon/components";

interface Props {
  title: string;
  url: string;
  avatar: string;
  description: string;
  badge?: string;
  color?: string;
}

const { title, url, avatar, description, badge } = Astro.props;
---

<a href={url} target="_blank" rel="noopener noreferrer" 
   class="group relative flex flex-col sm:flex-row items-center gap-4 p-4 rounded-2xl bg-[var(--card-bg)] border border-[var(--card-border)] hover:border-[var(--primary)] transition-all duration-300 hover:-translate-y-1 hover:shadow-lg overflow-hidden active:scale-95">
  
  <!-- Content -->
  <div class="relative w-16 h-16 sm:w-20 sm:h-20 shrink-0 rounded-full overflow-hidden border-2 border-[var(--card-border)] group-hover:border-[var(--primary)] transition-colors duration-300">
    <ImageWrapper src={avatar} alt={title} class="w-full h-full object-cover transition-transform duration-500 group-hover:scale-110 group-hover:rotate-3" />
  </div>
  
  <div class="flex flex-col flex-1 min-w-0 text-center sm:text-left items-center sm:items-start w-full">
    <div class="flex items-center gap-2 mb-1">
      <h3 class="font-bold text-lg md:text-xl text-[var(--text-color)] truncate transition-colors duration-300 group-hover:text-[var(--primary)]">
        {title}
      </h3>
      {badge && (
        <span class="px-2 py-0.5 text-xs font-semibold rounded-full bg-[var(--primary)] text-white/90 shadow-sm">
          {badge}
        </span>
      )}
    </div>
    <p class="text-sm md:text-base text-[var(--text-muted)] line-clamp-2 leading-relaxed opacity-80 group-hover:opacity-100 transition-opacity">
      {description}
    </p>
  </div>
  
  <!-- Right Arrow Icon -->
  <div class="absolute right-4 top-1/2 -translate-y-1/2 opacity-0 -translate-x-4 group-hover:opacity-100 group-hover:translate-x-0 transition-all duration-300 hidden sm:block">
    <Icon name="material-symbols:arrow-forward-ios-rounded" class="text-xl text-[var(--primary)]" />
  </div>
</a>
